<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DrawOnImage</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <input type=file id=input accept="image/*"> <br>
  <button id="draw" onclick="helper()">Draw</button>
<canvas id=canvas></canvas>
  

  <body>
    <script>
        var file_2;
        var canvas = document.getElementById('canvas');
        var input = document.getElementById('input');
        var context = canvas.getContext('2d');

        input.onchange=function() {
            var img = new Image()
            img.onload = function() {
                canvas.width = this.width
                canvas.height = this.height
                context.drawImage(this, 0, 0)
                URL.revokeObjectURL(this.src)
            }
            file_2 = this.files
            img.src = URL.createObjectURL(this.files[0])
        }
        function helper(){
            console.log("Posting to the api")
            console.log(file_2)
            apiPost(file_2)
            

        }

function apiPost(image){
    formData = new FormData()
    formData.append("image", image)
    axios.post("http:localhost:8000/detect", formData, {
        headers: {
            'Content-Type': 'multipart/form-data'
        }
    }).then(function(response){
        console.log(resonse)
    })
}
function draw(x0, x1, y0, y1){
    
}

</script>
</body>
</html>